<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Fan Control</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.4/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .value { margin-bottom: 8px; }
        form { margin-bottom: 10px; }
    </style>
</head>
<body>
    <h1>Fan Control</h1>
    <div class="value">Temperature 1: <span id="temp1">--</span> 째C</div>
    <div class="value">Temperature 2: <span id="temp2">--</span> 째C</div>
    <div class="value">PWM: <span id="pwm">--</span> %</div>
    <div class="value">Mode: <span id="mode">--</span></div>
    <div class="value">Solltemperatur: <span id="setpoint">--</span> 째C</div>
    <div class="value">Alarmgrenze: <span id="alarmThreshold">--</span> 째C</div>

    <form id="setpointForm">
        <label>Solltemperatur: <input type="number" step="0.1" id="setpointInput" placeholder=""></label>
        <button type="submit">Senden</button>
    </form>
    <form id="alarmForm">
        <label>Alarmgrenze: <input type="number" step="0.1" id="alarmInput" placeholder=""></label>
        <button type="submit">Senden</button>
    </form>
    <form id="manualPwmForm">
        <label>Manueller PWM: <input type="number" step="1" min="0" max="100" id="manualPwmInput"></label>
        <button type="submit">Senden</button>
    </form>
    <form id="pidForm">
        <label>Kp: <input type="number" step="0.01" id="kpInput" placeholder=""></label>
        <label>Ki: <input type="number" step="0.01" id="kiInput" placeholder=""></label>
        <label>Kd: <input type="number" step="0.01" id="kdInput" placeholder=""></label>
        <button type="submit">Senden</button>
    </form>
    <form id="modeForm">
        <label>Modus:
            <select id="modeSelect">
                <option value="auto">AUTOMATIK</option>
                <option value="manual">MANUELL</option>
            </select>
        </label>
        <button type="submit">Senden</button>
    </form>
    <div class="value">Alarmstatus: <span id="alarmStatus">--</span></div>

    <canvas id="tempChart" width="400" height="200"></canvas>

    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>
